<script>
    function carregarDados(a) {
        // Tratamento especial para o multi-select de projetos
        const selectProjetos = document.getElementById('projetos');
        let projetosIds = [];
        if (Array.isArray(a.projetos)) {
            projetosIds = a.projetos.map(p => String(p).trim());
        } else if (typeof a.projetos === 'string' && a.projetos) {
            projetosIds = a.projetos.split(',').map(p => p.trim());
        }
        Array.from(selectProjetos.options).forEach(opt => {
            opt.selected = projetosIds.includes(opt.value);
        });

        // LÃ³gica especial para o Switch Ativo (Checkbox)
        const swAtivo = document.getElementById('ativo');
        swAtivo.checked = (a.ativo === true || a.ativo === 'true' || a.ativo === 1);
        atualizarLabelStatus();
    }

    // ... other parts of the code ...

    // Tratamento especial para o multi-select de projetos (salva como array)
    const selectProjetos = document.getElementById('projetos');
    const selectedIds = Array.from(selectProjetos.selectedOptions).map(opt => opt.value);
    dadosA['projetos'] = selectedIds.length > 0 ? selectedIds : null;
</script>